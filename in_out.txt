fun build_double(s: str, n: num) -> result: arr(num)
!   require: s contains n real numbers separated by one space, and s ends with '\n'

    result := [] // new array of length n
    
    start := 0
    for every i in [0, n) do
    !   invariant: result[0:i) matches the first i+1 real numbers in s
        if i < n-1
            end := search(s, start, ' ')
        else
            end := search(s, start, '\n') // s ends with '\n'
        result[i] := str2double(s[start:end)) // s[start:end) excludes the ending whitespace
        start := end + 1

!   ensure: result contains the n parsed numbers in order

fun slice(s: str, start, end: num) -> result: str
!   require: 0<=start<=end<=len(s)

    result = ""
    for every i in [start:end) do
        result[i] = s[i]

!   ensure: result = s[start:end)